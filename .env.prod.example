# Production environment example
#
# 使い方:
#   cp .env.prod.example .env
#   # 値を設定してから起動
#   docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d --build
#
# 注意:
# - .env は gitignore 済み前提（このファイルは例です）
# - BASIC_AUTH_HASH は平文パスワードではなく hash を設定します

# =========================
# Reverse proxy (Caddy)
# =========================
# 公開ドメイン（DNS の A レコードで VPS のIPへ向ける）
DOMAIN=shogi.example.com

# =========================
# Basic Auth (Caddy)
# =========================
# 入口の簡易認証（テスター配布用）
BASIC_AUTH_USER=tester

# Caddy の bcrypt hash（例: `docker run --rm caddy:2 caddy hash-password --plaintext 'your-password'`）
BASIC_AUTH_HASH=$2a$14$REPLACE_WITH_BCRYPT_HASH______________________________

# =========================
# App-level auth (FastAPI)
# =========================
# /annotate や高負荷 API を叩くための X-API-Key（CSV）
# 例: API_KEYS=key1,key2,key3
API_KEYS=replace_me_key1,replace_me_key2

# =========================
# Rate limit
# =========================
# /annotate の IP ベース簡易レート制限（1分あたり）
# 0 にすると無効（推奨: 本番は 1 以上）
RATE_LIMIT_PER_MINUTE=60

# =========================
# LLM settings (default OFF)
# =========================
# 安全のためデフォルトは OFF
USE_LLM=0

# USE_LLM=1 の場合のプロバイダ（gemini|openai）
LLM_PROVIDER=gemini

# Gemini を使う場合（USE_LLM=1 かつ LLM_PROVIDER=gemini）
GEMINI_API_KEY=

# OpenAI を使う場合（USE_LLM=1 かつ LLM_PROVIDER=openai）
OPENAI_API_KEY=
