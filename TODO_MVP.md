# TODO_MVP（Android MVP / 必須10タスク）

**ルール**: この10個だけを「必須」として順番に潰す。増やしたくなったらまず *やらない理由* を `RELEASE_PLAN.md` に追記してから。

---

## 1. Phase A: Androidで起動できる（ロードマップ表示まで）

- **内容**: `apps/mobile` をAndroidで起動し、`ロードマップ` 画面が表示されることを確認。詰まりがあれば最小修正。
- **受け入れ条件**:
  - Android端末/エミュでアプリが起動する
  - `ロードマップ` 画面が表示され、クラッシュしない
- **メモ欄**:
  - 実機/エミュ:
  - Date:
  - 結果:

## 2. Phase A: 起動手順をREADMEへ確定追記（WSL/USB含む）

- **内容**: `pnpm dev:android` / `android-usb-dev.ps1` / WebBaseURLの設定手順を「これだけやれば動く」に固定。
- **受け入れ条件**:
  - 初見の手順でも、迷わず起動できる
- **メモ欄**:
  - どこに追記したか（README/RELEASE_PLAN）:
  - 落とし穴（あれば）:

## 3. Phase B: beginnerロードマップJSONを“ソースオブトゥルース”として確定

- **内容**: `apps/web/src/constants.ts` → `scripts/export_roadmap_json.js` で生成される `apps/mobile/src/data/roadmap.json` をMVPのロードマップとして固定運用。
- **受け入れ条件**:
  - JSONに章/レッスン/順序/表示名/説明が含まれる
  - モバイルに章一覧→レッスン一覧が表示される

## 4. Phase C: レッスン最低10本が“確実に開ける”状態にする

- **内容**: モバイルの `ROADMAP.lessons` のうち、最低10本が `href` を持ち、WebViewで開いて進められるように整える（内容は簡易でOK）。
- **受け入れ条件**:
  - 10本以上のレッスンで「開く→最後まで進む→完了」ができる

## 5. Phase C: レッスン完了通知（postMessage）の互換性を固定

- **内容**: Web側 `m/lesson` ルートで完了時に `window.ReactNativeWebView.postMessage({type:"lessonComplete", lessonId})` を必ず送る（失敗時フォールバックも維持）。
- **受け入れ条件**:
  - 完了時にモバイル側が確実に `markCompleted` される

## 6. Phase D: 進捗保存（ローカル）をMVP仕様として確定

- **内容**: AsyncStorageのキー/スキーマを固定し、完了表示（チェック/進捗%）が一覧に反映されることを確認。
- **受け入れ条件**:
  - アプリ再起動後も完了状態が保持される

## 7. Phase D: 「次へ」導線を保証（完了→次レッスンへ）

- **内容**: 1レッスン完了後に次レッスンへ遷移できる導線を用意（Web側で次へ、またはモバイル側で次へ）。
- **受け入れ条件**:
  - 完了→次レッスンへ進める

## 8. Phase E: フィードバック導線（Google Form等）を追加

- **内容**: モバイルの `Settings` などに「フィードバック」ボタンを追加し、外部ブラウザ/内蔵WebViewでフォームを開けるようにする。
- **受け入れ条件**:
  - AndroidでフィードバックURLが開ける

## 9. Phase E: AI解説β（1箇所だけ）+ 👍/👎ログ（まずローカル）

- **内容**: レッスン末尾に「今回のポイント解説（β）」を1箇所だけ追加。結果と評価を `lessonId` と一緒に保存。
- **受け入れ条件**:
  - AI解説が表示できる（失敗時フォールバック文言あり）
  - 👍/👎が記録される（最低: ローカル）

## 10. Phase F: 配布用ビルド手順を確定（APK/AAB生成）

- **内容**: EASの `preview`（internal）で Android の配布物を生成できるようにし、`RELEASE_PLAN.md` に手順/チェックを固定。
- **受け入れ条件**:
  - 配布用APK/AABを生成できる（手順がドキュメント化されている）

